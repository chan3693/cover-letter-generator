<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Cover Letter Generator</title>
    <link rel="stylesheet" href="/css/styles.css">
    <script>
        function toggleEditMode() {
            const form = document.getElementById('editForm');
            const displaySection = document.getElementById('displaySection');
            const editButton = document.getElementById('editButton');
            const pftButton = document.getElementById('pdfButton');

            if (form.style.display === 'none') {
                form.style.display = 'block';
                displaySection.style.display = 'none';
                editButton.textContent = 'Cancel Edit';
                pdfButton.style.display = 'none';
            } else {
                form.style.display = 'none';
                displaySection.style.display = 'block';
                editButton.textContent = 'Edit Cover Letter';
                pdfButton.style.display = 'block'
            }
        }
    </script>
</head>
<body>
    <button id="editButton" onclick="toggleEditMode()">Edit Cover Letter</button>
    <button id="pdfButton" onclick="window.location.href='/download-pdf'">Download PDF</button>

    <!-- Edit Form -->
    <form id="editForm" action="/save" method="POST" style="display: none;">
        <label for="name">Name:</label>
        <input type="text" id="name" name="name" value="<%= name %>"><br>

        <label for="address">Address:</label>
        <input type="text" id="address" name="address" value="<%= address %>"><br>

        <label for="email">Email:</label>
        <input type="email" id="email" name="email" value="<%= email %>"><br>

        <label for="phone">Phone:</label>
        <input type="tel" id="phone" name="phone" value="<%= phone %>"><br>

        <label for="date">Date:</label>
        <input type="text" id="date" name="date" value="<%= date %>"><br>

        <label for="company">Company:</label>
        <input type="text" id="company" name="company" value="<%= company %>"><br>

        <label for="location">Location:</label>
        <input type="text" id="location" name="location" value="<%= location %>"><br>

        <label for="position">Position:</label>
        <input type="text" id="position" name="position" value="<%= position %>"><br>

        <button type="submit">Save Changes</button>
    </form>

    <!-- Display Section -->
    <section id="displaySection">
        <p><%= name %><br>
            <%= address %><br>
            Email: <a href="mailto:<%= email %>"><%= email %></a><br>
            Cell: <a href="tel:+<%= phone %>"><%= phone %></a></p>

        <p><%= date %></p>
        
        <p><%= company %><br>
        <%= location %></p>

        <p>RE: <%= position %></p>

        <p>Dear Hiring Manager,</p>

        <p>I am writing to express my interest in the <%= position %> position at <%= company %>. With a strong background in web/mobile development, IT business analysis, and hands-on experience in the full Software Development Life Cycle (SDLC), I am assured my ability to contribute to your team and deliver innovative, high-quality mobile solutions.</p>

        <p>As a postgraduate student in Mobile Application Development and Strategy at George Brown College, I have successfully designed, developed, and deployed numerous mobile applications, ensuring they are user-centric, responsive, and scalable. My experience includes proficiency in programming languages such as Swift, Kotlin, and JavaScript, as well as frameworks like React Native and SwiftUI. Additionally, my extensive experience with Agile/Scrum methodologies allows me to collaborate effectively within cross-functional teams to deliver projects on time and within scope.</p>

        <p>In my previous role as an IT Business Analyst at Bank of China (Hong Kong), I played a key role in enhancing digital banking functionalities, which led to a 20% increase in user satisfaction. My ability to translate business needs into technical solutions, coupled with my strong analytical skills, enabled me to optimize mobile banking services, resulting in a 15% increase in adoption rates. I am confident that my technical expertise and commitment to excellence align with the goals of <%= company %>, and I am eager to bring my skills to your development team.</p>

        <p>Thanks for your time and consideration. I'd love a chance to learn more about this position and demonstrate how I can help <%= company %> reach organizational goals. I believe my skills and motivation make me a great potential asset. I can be reached at <a href="tel:+<%= phone %>"><%= phone %></a> or <a href="mailto:<%= email %>"><%= email %></a> if you need any other information.</p>

        <p>Sincerely,</p>
        <p><%= name %></p>
    </section>
</body>
</html>